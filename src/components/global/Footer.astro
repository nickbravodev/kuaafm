---
// Library imports
import { Icon } from 'astro-icon/components';

// Component imports
import Link from './Link.astro';
// import FooterMobileAccordion from './accordions/FooterMobileAccordion.astro';

// Data imports
import socialData from '../../data/socialData';
import footerCopyrightData from '../../data/footerCopyrightData';
import footerData from '../../data/footerData';

// Divide footerData into four equal parts
const quarter = Math.ceil(footerData.length / 4);
const footerData1 = footerData.slice(0, quarter);
const footerData2 = footerData.slice(quarter, quarter * 2);
const footerData3 = footerData.slice(quarter * 2, quarter * 3);
const footerData4 = footerData.slice(quarter * 3);
---

  <footer class="p-8 bg-[var(--kuaa-bg-component)] text-[var(--kuaa-text)] transition-colors duration-300 md:rounded-tl-[1rem] lg:rounded-tl-[2rem]">

      <div class="footer-grid flex mb-8">

        <div class="footer-text-block flex flex-wrap flex-col sm:flex-row gap-2 sm:gap-4 w-full justify-between items-center">
          <div>

            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData1.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      {...(item.icon ? { icon: item.icon } : {})}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
          <div>
            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData2.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      icon={item.icon}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
          <div>
            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData3.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      icon={item.icon}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
          <div>
            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData4.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      icon={item.icon}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
        </div>
      </div>

      <div class="footer-social__wrapper">
        <div class="footer-social flex">
          {
            socialData.map((item) => (
              <a href={item.path} target={item.target} aria-label={item.name}>
                <Icon name={item.icon} />
              </a>
            ))
          }
        </div>
      </div>
      <div class="copyright text-center">
        <p>Copyright &copy; <span id="copyright"></span> KUAA. All rights reserved.</p>
      </div>
    </footer>
    
    <script is:inline>
      document.querySelector('#copyright').textContent = new Date()
        .getFullYear()
        .toString();
    </script>